{"version":3,"file":"static/js/pages-LazyLoad.85c7ef30.chunk.js","mappings":"4PAoGA,UA7FiB,WACf,OAAgCA,EAAAA,EAAAA,UAAS,IAAzC,eAAOC,EAAP,KAAiBC,EAAjB,KAEMC,EAAU,CAAEC,KAAM,KAAMC,WAAY,QAASC,UAAW,IAE9DC,EAAAA,EAAAA,YAAU,WACR,GAAwB,IAApBN,EAASO,OAAb,CAEA,IAAMC,EAASC,SAASC,iBAAiB,cAErCC,EAAc,IAAIC,sBAAqB,SAACC,GAC1CA,EAAMC,SAAQ,YAAiC,IAA9BC,EAA6B,EAA7BA,eAAgBC,EAAa,EAAbA,OAC3BD,IACFC,EAAOC,IAAMD,EAAOE,aAAa,YACjCP,EAAYQ,UAAUH,SAGzBd,GAMH,OAJsB,IAAlBM,EAAOD,QACTC,EAAOM,SAAQ,SAACM,GAAD,OAAST,EAAYU,QAAQD,MAGvC,WACiB,IAAlBZ,EAAOD,QACTC,EAAOM,SAAQ,SAACM,GAAD,OAAST,EAAYQ,UAAUC,UAGjD,CAACpB,KAEJM,EAAAA,EAAAA,YAAU,WACRgB,MACC,IAEH,IAAMA,EAAW,yCAAG,qHAINC,EAAAA,EAAAA,kBAJM,gBAGNvB,EAHM,EAGdwB,KAAQxB,SAEVC,EAAYD,GALI,iDAOhByB,EAAAA,EAAAA,OAAM,CAAEC,KAAM,QAASC,QAAS,KAAMA,UAPtB,yDAAH,qDAWjB,OAAwB,IAApB3B,EAASO,OAAqB,MAGhC,SAAC,EAAAqB,SAAD,WACE,gBAAKC,UAAU,kBAAf,SACG7B,EAAS8B,KACR,WAAmDC,GAAW,IAA3DC,EAA0D,EAA1DA,MAAOC,EAAmD,EAAnDA,YAAaC,EAAsC,EAAtCA,MAAOC,EAA+B,EAA/BA,UAAWC,EAAoB,EAApBA,OACvC,OACE,iBAAKP,UAAU,eAAf,WACE,iBAAKA,UAAU,eAAf,WACE,gBAAKA,UAAU,cAAf,UACE,gBAAK,WAAUM,OAEjB,iBAAKN,UAAU,SAAf,WACE,SAAC,EAAAQ,OAAD,CACED,QAASA,EAAOE,QAAQ,GACxBC,MAAM,UACNC,KAAK,QAEP,uBACGC,OAAOP,GAAOQ,eAAe,QAAS,CACrCC,MAAO,WACPC,SAAU,cAIhB,iBAAKf,UAAU,gBAAf,WACE,uBAAIG,KACJ,0BAAOC,WAGX,iBAAKJ,UAAU,cAAf,WACE,oBAAQA,UAAU,eAAlB,WACE,cAAGA,UAAU,iBADf,gBAGA,oBAAQA,UAAU,WAAlB,WACE,cAAGA,UAAU,yBADf,wBA3B+BE,Y,oKCzDpCc,EAAa,SAAC,GAAgC,IAA9BrB,EAA6B,EAA7BA,KAAMsB,EAAuB,EAAvBA,iBACjC,OAAOC,EAAAA,EAAAA,cAAa,CAClBC,OAAQ,OACRC,IAAKC,EAAAA,UAAAA,YACL1B,KAAAA,EACAsB,iBAAAA,KAISvB,EAAiB,WAC5B,OAAOwB,EAAAA,EAAAA,cAAa,CAClBC,OAAQ,MACRC,IAAKC,EAAAA,UAAAA,oBAIIC,EAAc,SAAC,GAAgB,IAAdC,EAAa,EAAbA,OAC5B,OAAOL,EAAAA,EAAAA,cAAa,CAClBC,OAAQ,MACRC,IAAKC,EAAAA,UAAAA,cACLE,OAAAA,M,sFCrBSL,E,MAAeM,GAAAA,SAE5BN,EAAaO,aAAaC,QAAQC,KAChC,SAACC,GAKC,OAAOA,KAET,SAACC,GACC,OAAOC,QAAQC,OAAOF,MAI1BX,EAAaO,aAAaO,SAASL,KACjC,SAACK,GACC,OAAOA,KAET,SAACH,GAKC,OAJ8B,MAA1BA,EAAMG,SAASC,SACjBC,aAAaC,QACbC,OAAOC,SAASC,KAAO,KAElBR,QAAQC,OAAOF,EAAMG,c,qEC1BzB,IAAMX,EAAY,CACvBkB,YAAa,0DACbC,iBAAkB,iCAClBC,cAAe,gC,6BCFjB","sources":["pages/LazyLoad/index.js","service/Api/index.js","service/axiosInstance.js","service/endpoints.js","webpack://react-components/./src/pages/LazyLoad/LazyLoad.scss?2337"],"sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { getAllProducts } from \"service/Api\";\nimport { toast } from \"utils\";\nimport { Rating } from \"components\";\n\nimport \"./LazyLoad.scss\";\n\nconst LazyLoad = () => {\n  const [products, setProducts] = useState([]);\n\n  const options = { root: null, rootMargin: \"-70px\", threshold: 1 };\n\n  useEffect(() => {\n    if (products.length === 0) return;\n\n    const images = document.querySelectorAll(\"[data-src]\");\n\n    let imgObserver = new IntersectionObserver((event) => {\n      event.forEach(({ isIntersecting, target }) => {\n        if (isIntersecting) {\n          target.src = target.getAttribute(\"data-src\");\n          imgObserver.unobserve(target);\n        }\n      });\n    }, options);\n\n    if (images.length !== 0) {\n      images.forEach((img) => imgObserver.observe(img));\n    }\n\n    return () => {\n      if (images.length !== 0) {\n        images.forEach((img) => imgObserver.unobserve(img));\n      }\n    };\n  }, [products]);\n\n  useEffect(() => {\n    getProducts();\n  }, []);\n\n  const getProducts = async () => {\n    try {\n      let {\n        data: { products },\n      } = await getAllProducts();\n      setProducts(products);\n    } catch (error) {\n      toast({ type: \"error\", message: error.message });\n    }\n  };\n\n  if (products.length === 0) return null;\n\n  return (\n    <Fragment>\n      <div className=\"product-wrapper\">\n        {products.map(\n          ({ title, description, price, thumbnail, rating }, index) => {\n            return (\n              <div className=\"product-card\" key={index}>\n                <div className=\"product-info\">\n                  <div className=\"product-img\">\n                    <img data-src={thumbnail} />\n                  </div>\n                  <div className=\"rating\">\n                    <Rating\n                      rating={+rating.toFixed(0)}\n                      color=\"#fa9f43\"\n                      size=\"15\"\n                    />\n                    <b>\n                      {Number(price).toLocaleString(\"en-US\", {\n                        style: \"currency\",\n                        currency: \"USD\",\n                      })}\n                    </b>\n                  </div>\n                  <div className=\"product-title\">\n                    <b>{title}</b>\n                    <span>{description}</span>\n                  </div>\n                </div>\n                <div className=\"product-btn\">\n                  <button className=\"wishlist-btn\">\n                    <i className=\"far fa-heart\"></i> Wishlist\n                  </button>\n                  <button className=\"cart-btn\">\n                    <i className=\"fas fa-shopping-cart\"></i> View In Cart\n                  </button>\n                </div>\n              </div>\n            );\n          }\n        )}\n      </div>\n    </Fragment>\n  );\n};\n\nexport default LazyLoad;\n","import { axiosIntance } from \"service/axiosInstance\";\nimport { endpoints } from \"service/endpoints\";\n\nexport const fileUpload = ({ data, onUploadProgress }) => {\n  return axiosIntance({\n    method: \"post\",\n    url: endpoints.FILE_UPLOAD,\n    data,\n    onUploadProgress,\n  });\n};\n\nexport const getAllProducts = () => {\n  return axiosIntance({\n    method: \"get\",\n    url: endpoints.GET_ALL_PRODUCTS,\n  });\n};\n\nexport const getAllPosts = ({ params }) => {\n  return axiosIntance({\n    method: \"get\",\n    url: endpoints.GET_ALL_POSTS,\n    params,\n  });\n};\n","import axios from \"axios\";\n\nexport const axiosIntance = axios.create();\n\naxiosIntance.interceptors.request.use(\n  (config) => {\n    // const token = localStorage.getItem(\"token\");\n    // if (token) {\n    //   config.headers.Authorization = token;\n    // }\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\naxiosIntance.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    if (error.response.status === 401) {\n      localStorage.clear();\n      window.location.href = \"/\";\n    }\n    return Promise.reject(error.response);\n  }\n);\n","export const endpoints = {\n  FILE_UPLOAD: \"http://doodlebluelive.com:2319/api/v1/upload/uploadFile\",\n  GET_ALL_PRODUCTS: \"https://dummyjson.com/products\",\n  GET_ALL_POSTS: \"https://dummyjson.com/posts\",\n};\n","// extracted by mini-css-extract-plugin\nexport default {};"],"names":["useState","products","setProducts","options","root","rootMargin","threshold","useEffect","length","images","document","querySelectorAll","imgObserver","IntersectionObserver","event","forEach","isIntersecting","target","src","getAttribute","unobserve","img","observe","getProducts","getAllProducts","data","toast","type","message","Fragment","className","map","index","title","description","price","thumbnail","rating","Rating","toFixed","color","size","Number","toLocaleString","style","currency","fileUpload","onUploadProgress","axiosIntance","method","url","endpoints","getAllPosts","params","axios","interceptors","request","use","config","error","Promise","reject","response","status","localStorage","clear","window","location","href","FILE_UPLOAD","GET_ALL_PRODUCTS","GET_ALL_POSTS"],"sourceRoot":""}